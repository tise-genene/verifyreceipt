# Get your key from https://verify.leul.et/dashboard
VERIFY_API_KEY=replace_me

# Upstream base URL from the docs
VERIFY_API_BASE_URL=https://verifyapi.leulzenebe.pro

# Server
PORT=8080

# Upstream timeout (seconds)
UPSTREAM_TIMEOUT_SECONDS=60

# Cache TTL for /api/verify/reference and /api/verify/receipt results (seconds)
# Recommended: 600-3600 (10-60 minutes)
CACHE_TTL_SECONDS=1800

# Rate limiting (protects your API key)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# Better-verifier (local) options
# Turn this on if you want to verify CBE by fetching the public receipt PDF directly.
LOCAL_CBE_RECEIPT_ENABLED=false
# Public CBE receipt host (works best when hosted in Ethiopia)
CBE_RECEIPT_BASE_URL=https://apps.cbe.com.et:100/

# Turn this on if you want to verify Telebirr by fetching the public receipt page directly.
LOCAL_TELEBIRR_RECEIPT_ENABLED=false
# Public Telebirr receipt host (works best when hosted in Ethiopia)
TELEBIRR_RECEIPT_BASE_URL=https://transactioninfo.ethiotelecom.et/receipt/

# Local fetch protection (recommended ON in production)
LOCAL_RATE_LIMIT_ENABLED=true
LOCAL_RATE_LIMIT_CBE_PER_MINUTE=20
LOCAL_RATE_LIMIT_TELEBIRR_PER_MINUTE=20

# Local fetch resilience
LOCAL_RETRY_ATTEMPTS=3
LOCAL_RETRY_BASE_DELAY_MS=200
LOCAL_RETRY_MAX_DELAY_MS=1500
LOCAL_CIRCUIT_BREAKER_ENABLED=true
LOCAL_CIRCUIT_FAILURE_THRESHOLD=5
LOCAL_CIRCUIT_RESET_SECONDS=90
